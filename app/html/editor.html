<!DOCTYPE html>
<!-- saved from url=(0038)http://yanghao.org/tools/markdown.html -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>markdown</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="codemirror/addon/fold/foldgutter.css" />

    <script type="text/javascript" src="js/showdown.js"></script>
    <script type="text/javascript" src="codemirror/lib/codemirror.js"></script>
    <script type="text/javascript" src="codemirror/addon/fold/foldcode.js"></script>
    <script type="text/javascript" src="codemirror/addon/fold/foldgutter.js"></script>
    <script type="text/javascript" src="codemirror/addon/fold/brace-fold.js"></script>
    <script type="text/javascript" src="codemirror/addon/fold/markdown-fold.js"></script>
    <script type="text/javascript" src="codemirror/addon/fold/comment-fold.js"></script>
    <script type="text/javascript" src="codemirror/mode/markdown/markdown.js"></script>
 
    <style type="text/css">
        textarea {
            width: 97%;
            height: 100%;
            border: 1px solid #e9e9e9;
        }
        p {
            margin: 0 2px 16px 2px;
        }
        body {
            background: #fdeddd;
        }
        .CodeMirror {margin: 0px; height: 600px; width: 485px;}
    </style>
</head>

<body>

<div style="width:1000px;margin: 0 auto;">
    <div>
        <h1>Markdown</h1>
    </div>
    <form>
    <div style="float: left;width: 500px;height: 600px">
        <textarea id="code-markdown" name="code"></textarea>
    </div>
    </form>
    <div id="preview" style="float: right;width: 500px;height: 600px; solid #e9e9e9;background: #f8f8f8;overflow: auto;">
    </div>
</div>

<script type="text/javascript">
    function _(id) {
        return document.getElementById(id);
    }
    function content_preview() {
        var converter = new Showdown.converter();
        var html = converter.makeHtml(window.editor_markdown.getValue());
        _('preview').innerHTML = html;
    }
    function scroll_markdown(){
        var sinfo = window.editor_markdown.getScrollInfo();
        _("preview").scrollTop = (sinfo.top/sinfo.clientHeight)*_("preview").scrollHeight;
    }
    
    
    window.onload = function() {
        var te_markdown = _("code-markdown");
        te_markdown.value = "# Cmd Markdown 简明语法手册\n\n---\n\n### 1. 斜体和粗体\n\n使用 * 和 ** 表示斜体和粗体。\n\n示例：\n\n这是 *斜体*，这是 **粗体**。\n\n### 2. 分级标题\n\n使用 === 表示一级标题，使用 --- 表示二级标题。\n\n示例：\n\n```\n这是一个一级标题\n============================\n\n这是一个二级标题\n--------------------------------------------------\n\n### 这是一个三级标题\n```\n\n你也可以选择在行首加井号表示不同级别的标题 (H1-H6)，例如：\n```\n# H1\n## H2\n### H3\n#### H4\n```\n\n### 3. 外链接\n\n使用 \[描述](链接地址) 为文字增加外链接。\n\n示例：\n\n这是去往 [本人博客](http://ghosertblog.github.com) 的链接。\n\n### 4. 无序列表\n\n使用 *，+，- 表示无序列表。\n\n示例：\n\n- 无序列表项 一\n- 无序列表项 二\n- 无序列表项 三\n\n### 5. 有序列表\n\n使用数字和点表示有序列表。\n\n示例：\n\n1. 有序列表项 一\n2. 有序列表项 二\n3. 有序列表项 三\n\n### 6. 文字引用\n\n使用 > 表示文字引用。\n\n示例：\n\n> 野火烧不尽，春风吹又生。\n\n### 7. 行内代码块\n\n使用 \`代码` 表示行内代码块。\n\n示例：\n\n让我们聊聊 `html`。\n\n### 8.  代码块\n\n使用 四个缩进空格 表示代码块。\n\n示例：\n\n    这是一个代码块，此行左侧有四个不可见的空格。\n\n### 9.  插入图像\n\n使用 \\!\\[描述](图片链接地址) 插入图像。\n\n示例：\n\n![我的头像](https://www.zybuluo.com/static/img/my_head.jpg)\n";

        window.editor_markdown = CodeMirror.fromTextArea(te_markdown, {
            mode: "markdown",
            lineNumbers: true,
            lineWrapping: true,
            extraKeys: {"Ctrl-Q": function(cm){ cm.foldCode(cm.getCursor()); }},
            foldGutter: true,
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
        });

        window.editor_markdown.on("keyup", content_preview);
        window.editor_markdown.on("paste", content_preview);
        window.editor_markdown.on("scroll", scroll_markdown);

        content_preview();
    };
</script>

